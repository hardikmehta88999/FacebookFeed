(window["webpackJsonplogin-page"]=window["webpackJsonplogin-page"]||[]).push([[0],{111:function(e,t,a){e.exports=a(133)},121:function(e,t,a){},133:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),c=a(21),l=a(19),s=a(39),u=a(3),m=function(e){var t=e.component,a=e.isAuthenticated,n=e.isVerifying,i=Object(u.a)(e,["component","isAuthenticated","isVerifying"]);return r.a.createElement(s.b,Object.assign({},i,{render:function(e){return n?r.a.createElement("div",null):a?r.a.createElement(t,e):r.a.createElement(s.a,{to:{pathname:"/",state:{from:e.location}}})}}))},p=a(8),d=(a(121),a(181)),g=a(173),h=a(180),f=a(188),E=a(185),y=a(186),v=a(187),b=a(26),w=a(86),x=a.n(w),O=a(175),S=a(71),C=a.n(S),j=(a(122),a(123),C.a.initializeApp({apiKey:"AIzaSyDwYoewinhhNmHT2bQYk4GsAelhXay49f0",authDomain:"onicares-6b369.firebaseapp.com",databaseURL:"https://onicares-6b369.firebaseio.com",projectId:"onicares-6b369",storageBucket:"onicares-6b369.appspot.com",messagingSenderId:"545678682203",appId:"1:545678682203:web:aa96c7caebdad293fc377e",measurementId:"G-TEF2KX8NJD"})),A=(j.firestore(),C.a),L=a(178),I=a(176),T=a(177),P=a(179),k=a(198),N=a(184),U=a(182),D=a(183),_=function(e){return{type:"LOGIN_SUCCESS",user:e}},W=function(e,t){return function(a){a({type:"LOGIN_REQUEST"}),j.auth().signInWithEmailAndPassword(e,t).then(function(e){a(_(e))}).catch(function(e){a({type:"LOGIN_FAILURE"})})}},F=function(){return function(e){e({type:"LOGOUT_REQUEST"}),j.auth().signOut().then(function(){e({type:"LOGOUT_SUCCESS"})}).catch(function(t){e({type:"LOGOUT_FAILURE"})})}},R=function(){return function(e){e({type:"VERIFY_REQUEST"}),j.auth().onAuthStateChanged(function(t){null!==t&&e(_(t)),e({type:"VERIFY_SUCCESS"})})}},G=Object(g.a)(function(e){return{appBar:{position:"relative",color:"secondary"},title:{marginLeft:e.spacing(2),flex:1},root:{maxWidth:550,marginTop:"30px"},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"}}}),V=r.a.forwardRef(function(e,t){return r.a.createElement(O.a,Object.assign({direction:"up",ref:t},e))});var Y=Object(c.b)(function(e){return{isLoggingOut:e.auth.isLoggingOut,logoutError:e.auth.logoutError,isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=G(),a=r.a.useState(!1),i=Object(p.a)(a,2),o=i[0],c=i[1],s=r.a.useState(""),u=Object(p.a)(s,2),m=u[0],g=u[1],w=r.a.useState(""),O=Object(p.a)(w,2),S=O[0],C=O[1],j=r.a.useState([]),_=Object(p.a)(j,2),W=_[0],R=_[1],Y=r.a.useState(!1),B=Object(p.a)(Y,2),Q=B[0],J=B[1],K=r.a.useState(""),z=Object(p.a)(K,2),X=z[0],H=z[1],M=r.a.useState(""),$=Object(p.a)(M,2),q=$[0],Z=$[1],ee=r.a.useState(""),te=Object(p.a)(ee,2),ae=te[0],ne=te[1],re=function(){J(!0)},ie=function(){J(!1),A.storage().ref("images/".concat(X.name)).put(X).on("state_changed",function(e){Math.round(e.bytesTransferred/e.totalBytes*100)},function(e){},function(){A.storage().ref("images").child(X.name).getDownloadURL().then(function(e){H(e),ce(e)})})};Object(n.useEffect)(function(){var e=A.auth().currentUser.uid;A.firestore().collection("user").doc(e).onSnapshot(function(t){C(t.data().name),A.firestore().collection("post").orderBy("timeStamp","desc").onSnapshot(function(t){var a=[];t.forEach(function(t){t.data().uid!==e&&a.push(t.data())}),R(a)})})},[]);var oe=function(){c(!1)},ce=function(e){if(e){var t=A.auth().currentUser.uid;A.firestore().collection("post").add({uid:t,name:S,description:e,timeStamp:new Date,type:q})}},le=function(e,t){if("video"===e)return r.a.createElement("video",{style:{maxWidth:"100%",width:"500px"},controls:!0,src:t})},se=function(e,t){if("image"===e)return r.a.createElement("img",{src:t,style:{width:"100%",height:"250px"}})};return r.a.createElement("div",null,r.a.createElement("header",{className:"navbar"},r.a.createElement("div",{className:"navbar__title"}," Feed App"),r.a.createElement("div",{className:"navbar__item"},r.a.createElement(l.b,{to:"/",style:{textDecoration:"none",color:"#0000FF"}},"Feed")," "),r.a.createElement("div",{className:"navbar__item"},r.a.createElement(l.b,{to:"/profile",style:{textDecoration:"none",color:"profile"===window.location.pathname.split("/")[1]?"#0000FF":"#D3D3D3"}},"Profile")),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){(0,e.dispatch)(F())}},"Logout")),r.a.createElement(d.a,{maxWidth:"sm"},r.a.createElement("input",{type:"text",placeholder:"Search..",className:"myInput",onChange:function(e){ne(e.target.value)},title:"Type in a name",value:ae}),r.a.createElement(h.a,{variant:"contained",color:"primary",style:{marginTop:"10px"},onClick:function(){c(!0)}},"Write Post"),"\xa0",r.a.createElement(h.a,{variant:"contained",color:"primary",style:{marginTop:"10px"},onClick:function(){Z("image"),re()}},"Upload Image"),r.a.createElement(k.a,{open:Q,onClose:ie,"aria-labelledby":"form-dialog-title"},r.a.createElement(U.a,null,r.a.createElement(D.a,null,"Select ",q),r.a.createElement("input",{type:"file",accept:"image"===q?"image/*":"video/*",onChange:function(e){if(e.target.files[0]){var t=e.target.files[0];H(t)}}})),r.a.createElement(N.a,null,r.a.createElement(h.a,{onClick:ie,color:"primary"},"OK"),r.a.createElement(h.a,{onClick:function(){J(!1)},color:"primary"},"Cancel"))),"\xa0",r.a.createElement(h.a,{variant:"contained",color:"primary",style:{marginTop:"10px"},onClick:function(){Z("video"),re()}},"Upload Video"),r.a.createElement(k.a,{fullScreen:!0,open:o,onClose:oe,TransitionComponent:V},r.a.createElement(E.a,{className:t.appBar},r.a.createElement(y.a,null,r.a.createElement(v.a,{edge:"start",color:"inherit",onClick:oe,"aria-label":"close"},r.a.createElement(x.a,null)),r.a.createElement(b.a,{variant:"h6",className:t.title},"Write Something to Post"),r.a.createElement(h.a,{autoFocus:!0,color:"inherit",onClick:function(){if(c(!1),m.length>0){var e=A.auth().currentUser.uid;A.firestore().collection("post").add({uid:e,description:m,name:S,timeStamp:new Date,type:"post"})}}},"Share"))),r.a.createElement(f.a,{style:{width:"100%",height:"200px"},variant:"outlined",margin:"normal",fullWidth:!0,name:"description",placeholder:"Description",type:"textarea",id:"description",value:m,onChange:function(e){return g(e.target.value)}})),function(e){if(!(e.length>0))return r.a.createElement("div",{style:{marginTop:"30px"}},"No Post Yet");for(var a=0;a<e.length;a++){var n=e;return ae.length>0&&(n=e.filter(function(e){return!(null==e.name||!e.name.toLowerCase().startsWith(ae.toLowerCase()))})),n.map(function(e){return r.a.createElement(I.a,{className:t.root},r.a.createElement(T.a,{avatar:r.a.createElement(L.a,{"aria-label":"recipe"},e.name[0]),title:e.name}),r.a.createElement(P.a,null,r.a.createElement(b.a,{variant:"body2",color:"textSecondary",component:"p",style:{textAlign:"center",marginLeft:"40px",marginTop:"-20px",marginRight:"20px"}},"post"===e.type?e.description:" "),le(e.type,e.description),se(e.type,e.description)))})}}(W)))}),B=a(48),Q=a(29),J=a(61),K=a(62),z=a(64),X=a(136),H=a(189),M=a(195),$=a(97),q=a(87),Z=a.n(q),ee=a(88),te=a.n(ee),ae=a(191),ne=a(89),re=a.n(ne),ie=a(63),oe=a.n(ie),ce=function(e){function t(){var e,a;Object(B.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(J.a)(this,(e=Object(K.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleEmailChange=function(e){var t=e.target;a.setState({email:t.value})},a.handlePasswordChange=function(e){var t=e.target;a.setState({password:t.value})},a.handleSubmit=function(){var e=a.props.dispatch,t=a.state,n=t.email,r=t.password;e(W(n,r))},a.handleGoogle=function(){var e=new A.auth.GoogleAuthProvider;A.auth().signInWithPopup(e).then(function(e){console.log(e),e.additionalUserInfo.isNewUser&&A.firestore().collection("user").doc(e.user.uid).set({email:e.user.email,name:e.user.displayName,uid:e.user.uid,image:e.user.photoURL})})},a}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.loginError;return t.isAuthenticated?r.a.createElement(s.a,{to:"/home"}):r.a.createElement(d.a,{maxWidth:"md"},r.a.createElement($.a,{className:a.paper,style:{height:"450px"}},r.a.createElement("div",{style:{float:"left"}},r.a.createElement("img",{src:Z.a,alt:"im"}),r.a.createElement(H.a,{href:"/signup",style:{textDecoration:"underline"}},r.a.createElement(b.a,{component:"h1",variant:"h5",style:{textAlign:"center",marginTop:"20px"}},"Create an Account"))),r.a.createElement("div",{style:{float:"right"}},r.a.createElement(b.a,{component:"h1",variant:"h5"},"Login"),r.a.createElement(M.a,{margin:"normal",fullWidth:!0,id:"input-with-icon-textfield",placeholder:"Email Address",name:"email",onChange:this.handleEmailChange,InputProps:{startAdornment:r.a.createElement(ae.a,{position:"start"},r.a.createElement(re.a,null))}}),r.a.createElement(M.a,{margin:"normal",fullWidth:!0,id:"input-with-icon-textfield",name:"password",type:"password",placeholder:"Password",onChange:this.handlePasswordChange,InputProps:{startAdornment:r.a.createElement(ae.a,{position:"start"},r.a.createElement(oe.a,null))}}),n&&r.a.createElement(b.a,{component:"p",className:a.errorText},"Incorrect email or password."),r.a.createElement(h.a,{type:"button",fullWidth:!0,variant:"contained",style:{width:"90px",marginTop:"40px"},color:"primary",className:a.submit,onClick:this.handleSubmit},"Log in"),r.a.createElement("div",{style:{marginTop:"80px"}},"or login with\xa0",r.a.createElement("img",{src:te.a,alt:"google",onClick:function(){return e.handleGoogle()},style:{cursor:"pointer"}})))))}}]),t}(n.Component);var le=Object(X.a)(function(){return{"@global":{body:{backgroundColor:"#fff"}},paper:{marginTop:100,width:"auto",height:"auto",flexDirection:"column",alignItems:"center"},avatar:{marginLeft:"auto",marginRight:"auto",backgroundColor:"#f50057"},form:{marginTop:1},errorText:{color:"#f50057",marginBottom:5,textAlign:"center"}}})(Object(c.b)(function(e){return{isLoggingIn:e.auth.isLoggingIn,loginError:e.auth.loginError,isAuthenticated:e.auth.isAuthenticated}})(ce)),se=a(90),ue=a.n(se),me=a(196),pe=a(93),de=a.n(pe),ge=a(94),he=a.n(ge),fe=a(95),Ee=a.n(fe),ye=a(91),ve=a.n(ye),be=function(e){function t(){var e,a;Object(B.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(J.a)(this,(e=Object(K.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",name:"",password1:"",checked:!1},a.handleEmailChange=function(e){var t=e.target;a.setState({email:t.value})},a.handlePasswordChange=function(e){var t=e.target;a.setState({password:t.value})},a.handleSubmit=function(){j.auth().createUserWithEmailAndPassword(a.state.email,a.state.password).then(function(e){ve.a.firestore().collection("user").doc(e.user.uid).set({email:a.state.email,followers:[],name:a.state.name,following:[],uid:e.user.uid,image:"https://image.shutterstock.com/image-vector/people-vector-icon-260nw-378571234.jpg"})})},a.handlecheck=function(){if(""===a.state.password)alert("Please Fill your Details");else if(""===a.state.password1)alert("Please enter Repeat password");else{if(a.state.password!==a.state.password1)return alert("\nPassword did not match: Please try again..."),!1;!1===a.state.checked?alert("Please Accept the Terms and Condition"):a.handleSubmit()}},a}return Object(z.a)(t,e),Object(Q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.classes;return t.isAuthenticated?r.a.createElement(s.a,{to:"/home"}):r.a.createElement(d.a,{maxWidth:"md"},r.a.createElement($.a,{className:a.paper,style:{height:"370px"}},r.a.createElement("div",{style:{float:"right"}},r.a.createElement("img",{src:ue.a,alt:"image"}),r.a.createElement(H.a,{href:"/",style:{textDecoration:"underline"}},r.a.createElement(b.a,{component:"h1",variant:"h5"},"I am already member"))),r.a.createElement(d.a,{maxWidth:"sm",style:{float:"left",marginTop:"40px"}},r.a.createElement(b.a,{component:"h1",variant:"h5"},"Sign up"),r.a.createElement(M.a,{margin:"normal",fullWidth:!0,placeholder:"Your Name",name:"email",onChange:function(t){return e.setState({name:t.target.value})},id:"input-with-icon-textfield",InputProps:{startAdornment:r.a.createElement(ae.a,{position:"start"},r.a.createElement(de.a,null))}}),r.a.createElement(M.a,{id:"input-with-icon-textfield",margin:"normal",fullWidth:!0,placeholder:"Your Email",name:"email",onChange:this.handleEmailChange,InputProps:{startAdornment:r.a.createElement(ae.a,{position:"start"},r.a.createElement(he.a,null))}}),r.a.createElement(M.a,{margin:"normal",fullWidth:!0,id:"input-with-icon-textfield",name:"password",placeholder:"Password",type:"password",onChange:this.handlePasswordChange,InputProps:{startAdornment:r.a.createElement(ae.a,{position:"start"},r.a.createElement(oe.a,null))}}),r.a.createElement(M.a,{margin:"normal",fullWidth:!0,id:"input-with-icon-textfield",name:"password",type:"password",placeholder:"Repeat Your Password",onChange:function(t){return e.setState({password1:t.target.value})},InputProps:{startAdornment:r.a.createElement(ae.a,{position:"start"},r.a.createElement(Ee.a,null))}}),r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement(me.a,{checked:this.state.checked,color:"primary",onChange:function(t){return e.setState({checked:t.target.checked})},inputProps:{"aria-label":"primary checkbox"}})," I agree all statements in Terms of service"),r.a.createElement(h.a,{type:"button",fullWidth:!0,variant:"contained",style:{width:"150px",marginTop:"30px"},color:"primary",className:a.submit,onClick:function(){return e.handlecheck()}},"register"))))}}]),t}(n.Component);var we=Object(X.a)(function(){return{"@global":{body:{backgroundColor:"#fff"}},paper:{marginTop:100,width:"auto",height:"auto",flexDirection:"column",alignItems:"center"},avatar:{marginLeft:"auto",marginRight:"auto",backgroundColor:"#f50057"},form:{marginTop:1},errorText:{color:"#f50057",marginBottom:5,textAlign:"center"}}})(Object(c.b)(function(e){return{isLoggingIn:e.auth.isLoggingIn,loginError:e.auth.loginError,isAuthenticated:e.auth.isAuthenticated}})(be)),xe=a(190),Oe=a(192),Se=a(194),Ce=a(193),je=a(65),Ae=Object(g.a)(function(e){return{root:{maxWidth:550,marginTop:"30px"},inline:{display:"inline"},avatar:{backgroundColor:je.a[500]}}});var Le=Object(c.b)(function(e){return{isLoggingOut:e.auth.isLoggingOut,logoutError:e.auth.logoutError,isAuthenticated:e.auth.isAuthenticated}})(function(e){var t=Ae(),a=r.a.useState([]),i=Object(p.a)(a,2),o=i[0],c=i[1],s=r.a.useState([]),u=Object(p.a)(s,2),m=u[0],g=u[1];return Object(n.useEffect)(function(){var e=A.auth().currentUser.uid;A.firestore().collection("user").doc(e).onSnapshot(function(e){var t=[];t.push(e.data()),c(t)}),A.firestore().collection("post").where("uid","==",e).orderBy("timeStamp","desc").onSnapshot(function(e){var t=[];e.forEach(function(e){return t.push(e.data())}),g(t)})},[]),console.clear(),r.a.createElement("div",null," ",r.a.createElement("header",{className:"navbar"},r.a.createElement("div",{className:"navbar__title"}," Feed App"),r.a.createElement("div",{className:"navbar__item"},r.a.createElement(l.b,{to:"/",style:{textDecoration:"none",color:"#D3D3D3"}},"Feed")," "),r.a.createElement("div",{className:"navbar__item"},r.a.createElement(l.b,{to:"/profile",style:{textDecoration:"none",color:"profile"===window.location.pathname.split("/")[1]?"#0000FF":"#D3D3D3"}},"Profile")),r.a.createElement(h.a,{variant:"contained",color:"primary",onClick:function(){(0,e.dispatch)(F())}},"Logout")),r.a.createElement(d.a,{maxWidth:"sm"},o.map(function(e){return r.a.createElement(xe.a,{className:t.root,key:e.uid},r.a.createElement(Oe.a,{alignItems:"flex-start"},r.a.createElement(Ce.a,null,r.a.createElement(L.a,{style:{width:"70px",height:"70px"}},e.name[0])),r.a.createElement(Se.a,{primary:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{style:{marginLeft:"40px",marginTop:"20px"}},e.name)),secondary:r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{component:"span",variant:"body2",className:t.inline,style:{color:"#D3D3D3",marginLeft:"20px",marginTop:"20px"},color:"textPrimary"},e.email)))})))}),m.length>0?m.map(function(e){return r.a.createElement(I.a,{className:t.root,key:e.description},r.a.createElement(T.a,{avatar:r.a.createElement(L.a,{"aria-label":"recipe"},e.name[0]),title:e.name}),r.a.createElement(P.a,null,r.a.createElement(b.a,{variant:"body2",color:"textSecondary",component:"p",style:{marginLeft:"40px",marginRight:"28px",marginTop:"-15px"}},"post"===e.type?e.description:" "),function(e,t){if("video"===e)return r.a.createElement("video",{style:{maxWidth:"100%",width:"500px"},controls:!0,src:t})}(e.type,e.description),function(e,t){if("image"===e)return r.a.createElement("img",{src:t,style:{width:"100%",height:"250px"}})}(e.type,e.description)))}):r.a.createElement("div",{style:{marginTop:"150px"}},"No Post Yet")))});var Ie=Object(c.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,isVerifying:e.auth.isVerifying}})(function(e){var t=e.isAuthenticated,a=e.isVerifying;return r.a.createElement(s.d,null,r.a.createElement(m,{exact:!0,path:"/home",component:Y,isAuthenticated:t,isVerifying:a}),r.a.createElement(s.b,{exact:!0,path:"/",component:le}),r.a.createElement(s.b,{exact:!0,path:"/signup",component:we}),r.a.createElement(m,{exact:!0,path:"/profile",component:Le,isAuthenticated:t,isVerifying:a}))}),Te=a(42),Pe=a(96),ke=a(12);function Ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ne(a,!0).forEach(function(t){Object(ke.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ne(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var De=Object(Te.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggingIn:!1,isLoggingOut:!1,isVerifying:!1,loginError:!1,logoutError:!1,isAuthenticated:!1,user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_REQUEST":return Ue({},e,{isLoggingIn:!0,loginError:!1});case"LOGIN_SUCCESS":return Ue({},e,{isLoggingIn:!1,isAuthenticated:!0,user:t.user});case"LOGIN_FAILURE":return Ue({},e,{isLoggingIn:!1,isAuthenticated:!1,loginError:!0});case"LOGOUT_REQUEST":return Ue({},e,{isLoggingOut:!0,logoutError:!1});case"LOGOUT_SUCCESS":return Ue({},e,{isLoggingOut:!1,isAuthenticated:!1,user:{}});case"LOGOUT_FAILURE":return Ue({},e,{isLoggingOut:!1,logoutError:!0});case"VERIFY_REQUEST":return Ue({},e,{isVerifying:!0,verifyingError:!1});case"VERIFY_SUCCESS":return Ue({},e,{isVerifying:!1});default:return e}}});var _e=function(e){var t=Object(Te.d)(De,e,Object(Te.a)(Pe.a));return t.dispatch(R()),t}();var We=function(){return r.a.createElement(c.a,{store:_e},r.a.createElement(l.a,null,r.a.createElement(Ie,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(We,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},87:function(e,t,a){e.exports=a.p+"static/media/signin-image.86488bc6.webp"},88:function(e,t,a){e.exports=a.p+"static/media/google.2c508400.PNG"},90:function(e,t,a){e.exports=a.p+"static/media/signup-image.19501052.webp"}},[[111,1,2]]]);
//# sourceMappingURL=main.595c6934.chunk.js.map